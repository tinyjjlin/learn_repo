# brs order design

---
## 数据库

### 1 order
1. order_number 内部订单号
2. third_order_number 第三方订单号
3. order_type 订单类型
4. order_max_if 最大影响因子
5. order_min_if 最小影响因子
6. jcr 分区
7. cas 中科院分区
8. order_status 订单状态
9. deadline 截止时间
10. editor 编辑
11. sublimmiter 投稿人
12. laboratory 数据处理人员
13. title 标题
14. 定金
15. 总价格
16. key word 关键字
17. 要求

### 2 客户下单主要字段
1. third order number 第三方订单号
2. type
3. max if
4. min if
5. jcr
6. cas
7. 截止时间
8. 要求
9. 关键字
10. 题目
11. 定金
12. 总金额
说明：备注单独建表对订单进行补充说明

### 3 文章 article
1. id
2. title
3. 文章最大影响因子
4. 文章最小影响因子
5. 编辑人员
6. 数据处理人员
7. 说明
8. 状态

说明需要单独建表

### 4 作者信息
1. 姓
2. 名
3. email 自己的
4. 电话
5. 职称
6. 作者顺序

说明：1 通讯作者有多个；2 共同一作排名在前；3一批作者对应一个单子

### 5 地址
1 id
2 作者id
3 地址编号，排序

说明：地址显示：科研，机构，邮编，国，省，市

### 6 期刊
1.名称
2.别名
3 备注
4. 投稿链接
说明：搜索条件：1 期刊名称，2期刊别名，2首字母缩写

## 客户功能
1. 下单
2. 查看订单
3. 下载。 说明：编辑上传文章标题，摘要（word文档格式）。客户可以进行下载，文件下载格式为：第三方订单号+题目+摘要
4. 上传 投稿人员，要求客户提交：作者信息。（客户可以用附件的方式上传）导入客户提交的作者信息。

## 特殊功能
订单转移：
情况：1 订单拒稿；2 新文章重新分配订单；
订单转让：
同一个文章，对应新的订单，改客户信息。

新的订单为主。

题目修改，历史记录

作者信息只允许投稿人看

订单分配记录

## 对应关系
一个订单可以对应多篇文章，当一篇文章被拒，或其他情况发生；
一篇文章可以对应多个期刊；
邮箱和作者是一一对应的；
一个作者可以对应多个单子；

## 状态
订单是最终状态：
1. 新建；
2. 确认；
3. 已分配；
4. 文章状态；

文章：状态
1. 在编辑；
2. 处理数据；
3. 整合；
4. 投稿；
5. 确认已经投稿；
6. 杂志状态；

杂志（期刊）：状态
1. 外审中；
2. 正在外审；
3. 拒稿；
4. 在返修；
5. 待返修；还未处理；
6. 已返修；
7. 二修；三修；..
8. 接收


版面费：1 已交；2 未交；3 无；

校样：
1. 未收到校样信息；
2. 已收到校样信息；
3. 开始校样；
4. 提交（确认作者信息）


## 投多个杂志：订单状态选择规则。
1. 优先选择投稿状态最有利的。





